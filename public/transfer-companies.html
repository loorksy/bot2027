<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุดุฑูุงุช ุงูุชุญููู - ูุธุงู ุงููุญุงุณุจุฉ</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body style="margin: 0; background: #0f0f1a; color: #fff; font-family: 'Segoe UI', sans-serif;">

    <div style="max-width: 1200px; margin: 0 auto; padding: 20px;">

        <!-- PAGE: TRANSFER COMPANIES LIST -->
        <div id="page-transfer-companies">
            <header style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div>
                    <a href="/accounting.html" class="btn btn-secondary btn-sm">โ ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</a>
                    <h2 style="display:inline-block; margin:0 10px;">๐ข ุดุฑูุงุช ุงูุชุญููู</h2>
                </div>
                <button class="btn btn-primary btn-sm" onclick="openNewCompanyModal()">+ ุฅุถุงูุฉ ุดุฑูุฉ</button>
            </header>

            <div id="companies-grid"
                style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;">
                <!-- Populated by JS -->
            </div>
        </div>

        <!-- PAGE: TRANSFER COMPANY DETAIL -->
        <div id="page-company-detail" style="display: none;">
            <header style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div>
                    <button class="btn btn-secondary btn-sm" onclick="showTransferCompanies()">ุงูุนูุฏุฉ ููุดุฑูุงุช</button>
                    <h2 id="company-detail-name" style="display:inline-block; margin:0 10px;">๐ข ุดุฑูุฉ ุงูุชุญููู</h2>
                </div>
                <div>
                    <button class="btn btn-primary btn-sm" onclick="openTransferMoneyModal()">๐ฐ ููู ูุจูุบ</button>
                    <button class="btn btn-success btn-sm" onclick="openRegisterReturnModal()">โฉ๏ธ ุชุณุฌูู ูุฑุชุฌุน</button>
                </div>
            </header>

            <!-- Stats Cards -->
            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 25px;">
                <div class="ai-card"
                    style="padding: 20px; text-align: center; background: linear-gradient(135deg, #1a4a1a 0%, #2e7d32 100%);">
                    <div style="font-size: 12px; color: #aaa;">ุงูุฐูุฉ ุงูุญุงููุฉ</div>
                    <div id="stat-balance" style="font-size: 28px; font-weight: bold; margin: 10px 0; color: #4caf50;">
                        $0</div>
                </div>
                <div class="ai-card" style="padding: 20px; text-align: center;">
                    <div style="font-size: 12px; color: #aaa;">ุฅุฌูุงูู ุงูููููู</div>
                    <div id="stat-total-in" style="font-size: 28px; font-weight: bold; margin: 10px 0;">$0</div>
                </div>
                <div class="ai-card" style="padding: 20px; text-align: center;">
                    <div style="font-size: 12px; color: #aaa;">ุงููุณูู ูููุณุชุฎุฏููู</div>
                    <div id="stat-delivered" style="font-size: 28px; font-weight: bold; margin: 10px 0;">$0</div>
                </div>
                <div class="ai-card" style="padding: 20px; text-align: center;">
                    <div style="font-size: 12px; color: #aaa;">ุงููุฑุชุฌุน</div>
                    <div id="stat-returned" style="font-size: 28px; font-weight: bold; margin: 10px 0;">$0</div>
                </div>
            </div>

            <!-- Tabs -->
            <div style="border-bottom: 2px solid #333; margin-bottom: 20px;">
                <button class="tab-btn active" onclick="switchCompanyTab('transfers')">ุงูุชุญูููุงุช ุงููุงุฑุฏุฉ</button>
                <button class="tab-btn" onclick="switchCompanyTab('deliveries')">ุงูุชุณูููุงุช</button>
                <button class="tab-btn" onclick="switchCompanyTab('returns')">ุงููุฑุชุฌุนุงุช</button>
            </div>

            <!-- Tab: Transfers -->
            <div id="company-tab-transfers" class="tab-content">
                <div class="ai-card">
                    <h3>ุงูุชุญูููุงุช ุงููุงุฑุฏุฉ</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงูุชุงุฑูุฎ</th>
                                <th>ุงููุจูุบ</th>
                                <th>ุงูุฏูุฑุฉ</th>
                                <th>ุงููุตู</th>
                            </tr>
                        </thead>
                        <tbody id="list-company-transfers">
                            <tr>
                                <td colspan="4" class="text-center muted">ูุง ุชูุฌุฏ ุชุญูููุงุช</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Tab: Deliveries -->
            <div id="company-tab-deliveries" class="tab-content" style="display: none;">
                <div class="ai-card">
                    <h3>ุงูุชุณูููุงุช ูููุณุชุฎุฏููู</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงูุชุงุฑูุฎ</th>
                                <th>ุงููุณุชุฎุฏู</th>
                                <th>ุงููุจูุบ</th>
                                <th>ุฏููุ</th>
                            </tr>
                        </thead>
                        <tbody id="list-company-deliveries">
                            <tr>
                                <td colspan="4" class="text-center muted">ูุง ุชูุฌุฏ ุชุณูููุงุช</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Tab: Returns -->
            <div id="company-tab-returns" class="tab-content" style="display: none;">
                <div class="ai-card">
                    <h3>ุงููุฑุชุฌุนุงุช</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงูุชุงุฑูุฎ</th>
                                <th>ุงููุจูุบ</th>
                                <th>ุงูููุตุฏ</th>
                                <th>ุงููุตู</th>
                            </tr>
                        </thead>
                        <tbody id="list-company-returns">
                            <tr>
                                <td colspan="4" class="text-center muted">ูุง ุชูุฌุฏ ูุฑุชุฌุนุงุช</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

    <!-- MODALS -->

    <!-- Modal: New Company -->
    <div id="modal-new-company" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <h3>ุฅุถุงูุฉ ุดุฑูุฉ ุชุญููู ุฌุฏูุฏุฉ</h3>
            <div class="form-group">
                <label>ุงุณู ุงูุดุฑูุฉ</label>
                <input type="text" id="inp-new-company-name" placeholder="ูุซุงู: ุดุฑูุฉ ABC"
                    style="width: 100%; padding: 8px;">
            </div>
            <div class="modal-actions" style="margin-top: 15px;">
                <button class="btn btn-secondary" onclick="closeNewCompanyModal()">ุฅูุบุงุก</button>
                <button class="btn btn-primary" onclick="createCompany()">ุฅุถุงูุฉ</button>
            </div>
        </div>
    </div>

    <!-- Modal: Transfer Money -->
    <div id="modal-transfer-money" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <h3>ููู ูุจูุบ ุฅูู ุงูุดุฑูุฉ</h3>
            <div class="form-group">
                <label>ุงููุจูุบ</label>
                <input type="number" id="inp-transfer-amount" placeholder="0.00" step="0.01"
                    style="width: 100%; padding: 8px;">
            </div>
            <div class="form-group">
                <label>ุงูุฏูุฑุฉ</label>
                <select id="inp-transfer-period" style="width: 100%; padding: 8px;">
                    <option value="">ุฌุงุฑู ุงูุชุญููู...</option>
                </select>
            </div>
            <div class="form-group">
                <label>ุงููุตู (ุงุฎุชูุงุฑู)</label>
                <textarea id="inp-transfer-description" rows="3" placeholder="ูุซุงู: ููู ูุชุณููู ุฑูุงุชุจ ููุงูุฑ"
                    style="width: 100%; padding: 8px;"></textarea>
            </div>
            <div class="modal-actions" style="margin-top: 15px;">
                <button class="btn btn-secondary" onclick="closeTransferMoneyModal()">ุฅูุบุงุก</button>
                <button class="btn btn-primary" onclick="confirmTransferMoney()">ููู</button>
            </div>
        </div>
    </div>

    <!-- Modal: Register Return -->
    <div id="modal-register-return" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <h3>ุชุณุฌูู ูุฑุชุฌุน ูู ุงูุดุฑูุฉ</h3>
            <div class="form-group">
                <label>ุงููุจูุบ</label>
                <input type="number" id="inp-return-amount" placeholder="0.00" step="0.01"
                    style="width: 100%; padding: 8px;">
            </div>
            <div class="form-group">
                <label>ุงูููุตุฏ</label>
                <select id="inp-return-destination" style="width: 100%; padding: 8px;">
                    <option value="CUSTODY">ุงูุฃูุงูุงุช</option>
                    <option value="TREASURY">ุงูุฎุฒููุฉ (ุฑุจุญ)</option>
                </select>
            </div>
            <div class="form-group">
                <label>ุงููุตู (ุงุฎุชูุงุฑู)</label>
                <textarea id="inp-return-description" rows="3" placeholder="ูุซุงู: ูุงุฆุถ ูู ุงูุชุญูููุงุช"
                    style="width: 100%; padding: 8px;"></textarea>
            </div>
            <div class="modal-actions" style="margin-top: 15px;">
                <button class="btn btn-secondary" onclick="closeRegisterReturnModal()">ุฅูุบุงุก</button>
                <button class="btn btn-success" onclick="confirmRegisterReturn()">ุชุณุฌูู</button>
            </div>
        </div>
    </div>

    <script src="transfer-companies.js"></script>
</body>

</html>